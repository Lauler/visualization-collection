library(tibble)
library(ganttrify)
Sys.setlocale("LC_ALL", "English")
df <- tibble::tibble(
  wp = c("First access",
         "First access",
         "WP1 - Data curation", 
         "WP1 - Data curation", 
         "WP2 - BERT", 
         "WP2 - BERT", 
         "WP3 - 2.7B model experiments", 
         "WP4 - 7B model",
         "WP4 - 7B model",
         "WP4 - 7B model",
         "WP4 - 7B model",
         "WP4 - 7B model",
         "WP4 - 7B model",
         "WP4 - 7B model",
         "WP4 - 7B model",
         "WP4 - 7B model",
         "WP4 - 7B model",
         "WP4 - 7B model",
         "WP4 - 7B model",
         "WP4 - 7B model",
         "WP4 - 7B model",
         "WP4 - 7B model",
         "WP4 - 7B model",
         "WP4 - 7B model",
         "WP4 - 7B model",
         "WP4 - 7B model",
         "WP4 - 7B model"),
  activity = c("0.1 Setup",
               "0.2 Data transfer",
               "1.1 Document scoring (inference)",
               "1.2 Evaluate and apply filter criteria", 
               "2.1 Dataset ablations", 
               "2.2 BERT pretraining", 
               "3.1 Dataset & language mixture experiments", 
               "4.1 Continued pretraining 7B model",
               "4.1 Continued pretraining 7B model",
               "4.1 Continued pretraining 7B model",
               "4.1 Continued pretraining 7B model",
               "4.1 Continued pretraining 7B model",
               "4.1 Continued pretraining 7B model",
               "4.1 Continued pretraining 7B model",
               "4.1 Continued pretraining 7B model",
               "4.1 Continued pretraining 7B model",
               "4.2 Evaluate model",
               "4.2 Evaluate model",
               "4.2 Evaluate model",
               "4.2 Evaluate model",
               "4.2 Evaluate model",
               "4.2 Evaluate model",
               "4.2 Evaluate model",
               "4.2 Evaluate model",
               "4.2 Evaluate model",
               "4.2 Instruction tuning experiments",
               "4.3 Vocabulary swap experiments"),
  start_date = as.Date(c("2024-08-01",
                         "2024-08-02",
                         "2024-08-05", 
                         "2024-08-20",
                         "2024-08-25", 
                         "2024-09-04", 
                         "2024-08-25", 
                         "2024-10-05",
                         "2024-11-05",
                         "2024-12-05",
                         "2025-01-10",
                         "2025-02-05",
                         "2025-03-05",
                         "2025-04-05",
                         "2025-05-05",
                         "2025-06-05",
                         "2024-10-12",
                         "2024-11-12",
                         "2024-12-12",
                         "2025-01-15",
                         "2025-02-12",
                         "2025-03-12",
                         "2025-04-12",
                         "2025-05-12",
                         "2025-06-12",
                         "2024-12-15",
                         "2025-06-01")),
  end_date = as.Date(c("2024-08-05",
                       "2024-08-10",
                       "2024-08-20", 
                       "2024-08-25", 
                       "2024-09-04",
                       "2024-09-19", 
                       "2024-09-30", 
                       "2024-10-11",
                       "2024-11-11",
                       "2024-12-11",
                       "2025-01-16",
                       "2025-02-11",
                       "2025-03-11",
                       "2025-04-11",
                       "2025-05-11",
                       "2025-06-11",
                       "2024-11-04",
                       "2024-12-04",
                       "2024-12-22",
                       "2025-02-04",
                       "2025-03-04",
                       "2025-04-03",
                       "2025-05-03",
                       "2025-06-03",
                       "2025-07-03",
                       "2025-07-29",
                       "2025-07-29")),
)

p <- ganttrify(
  project = df,
  by_date = TRUE,
  exact_date = TRUE,
  alpha_activity = 0.6,
  label_wrap = 26,
  size_text_relative = 2.2,
  mark_quarters = TRUE,
  font_family = "Roboto Condensed"
)

ggplot2::ggsave("gantt.png", p, width = 20, height = 10, dpi = 300, bg = "white")
